# -*- coding: utf-8 -*-
"""TwoNum Dataset

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1IP7mY22JD3H7prRBvA5b3A4meEsH7NNQ

TwoNum Dataset
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# #Load dataset
df=pd.read_csv("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/2_TwoNum.csv")
df.describe()

df['SalePrice']=df['SalePrice'][(df['SalePrice']!=0)]
df['SalePrice'].describe()

df['GrLivArea']=df['GrLivArea'][(df['GrLivArea']!=0)]
df['GrLivArea'].describe()

# check out missing data
total = df.isnull().sum().sort_values(ascending=False)
percent = (df.isnull().sum()/df.isnull().count()).sort_values(ascending=False)
missing_df = pd.concat([total, percent], axis=1, keys=['Total', 'Percent'])
missing_df.head(20)

#  histogram distribution
data_=sns.displot(df['GrLivArea'],fill="#69b3a2", color="#e9ecef",alpha=.9,bins=50)
data_.set(xlabel='area',title='Ground living area distribution')
plt.show()

# Sale Price distribution
import seaborn.apionly as sns
import matplotlib.pyplot as plt
import matplotlib.ticker as ticker
data2_=sns.displot(df['SalePrice']/1000)
data2_.set(xlabel='Sale price (k$)',title='Sale price distribution')
plt.show()

# Scatterplot
data3=sns.scatterplot(data=df,x='GrLivArea',y=df['SalePrice']/1000,color="#69b3a2", alpha=0.8)
data3.set(xlabel='Ground living area',ylabel='Sale price (k$)',title="Ground living area partially explains sale price of apartments")
plt.show()

# Improving the scatter plot With trend line (linear regression)
data3=sns.regplot(data=df,x='GrLivArea',y=df['SalePrice']/1000,ci=None,line_kws={'lw': 1, 'color': 'black'},scatter_kws={'alpha': 0.8,'color':'skyblue'})
data3.set(xlabel='Ground living area',ylabel='Sale price (k$)',title="Linear regression")
plt.show()

# Local regression
data3=sns.regplot(data=df,x='GrLivArea',y=df['SalePrice']/1000,order=3,line_kws={'lw': 1, 'color': 'black'},scatter_kws={'alpha': 0.8,'color':'skyblue'})
data3.set(xlabel='Ground living area',ylabel='Sale price (k$)',title="Loess")
plt.show()

g=sns.jointplot(data=df,x="GrLivArea",y=df["SalePrice"]/1000,kind='reg',truncate=False)

# Overplotting (Dot Size)
g=sns.scatterplot(data=df,x="GrLivArea",y=df["SalePrice"]/1000,s=10,color="#69b3a2", alpha=0.8, size=0.2,marker='o')
g.set(xlabel='Ground living area',ylabel='Sale price (k$)',title="Dot size")
plt.show()

# 2D Density contour
d2=sns.kdeplot(data=df,x="GrLivArea",y=df["SalePrice"]/1000,shades=True)
plt.show()

# 2D Density area
d3=sns.kdeplot(df["GrLivArea"],df["SalePrice"]/1000,color="blue",shades=True,fill=True)
plt.show()

